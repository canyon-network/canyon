<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Proof of Access consensus"><meta name="keywords" content="rust, rustlang, rust-lang, cc_consensus_poa"><title>cc_consensus_poa - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg"><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../cc_consensus_poa/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><h2 class="location">Crate cc_consensus_poa</h2><div class="block version"><div class="narrow-helper"></div><p>Version 0.1.0</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all cc_consensus_poa's items</p></a><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li></ul></div><div id="sidebar-vars" data-name="cc_consensus_poa" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">cc_consensus_poa</a><button id="copy-path" onclick="copy_path(this)" title="copy path"><img src="../clipboard.svg" width="19" height="18" alt="Copy item import" title="Copy item import to clipboard"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/cc_consensus_poa/lib.rs.html#19-654" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h1 id="proof-of-access-consensus" class="section-header"><a href="#proof-of-access-consensus">Proof of Access consensus</a></h1><h2 id="introduction" class="section-header"><a href="#introduction">Introduction</a></h2>
<p>Proof of Access is a kind of lightweight storage consensus initially
adopted by <a href="https://arweave.org">Arweave</a>. In arweave, PoA serves as
an enhancement of Proof of Work in which the entire recall block data
is included in the material to be hashed for input to the proof of work.</p>
<p>Requiring <a href="struct.ProofOfAccess.html" title="ProofOfAccess"><code>ProofOfAccess</code></a> incentivises storage as miners need
access to random blocks from the blockweave’s history in order
to mine new blocks and receive mining rewards.</p>
<h2 id="overview" class="section-header"><a href="#overview">Overview</a></h2>
<p>The general workflow of PoA is described briefly below:</p>
<ol>
<li>
<p>Pick a random byte from the whole network storage (BlockWeave).</p>
<ul>
<li>The block weave can be seen as an ever growing gigantic array.</li>
<li>Currently, the randome byte is determined by hashing
the parent header hash for N times(see <a href="fn.calculate_challenge_byte.html" title="calculate_challenge_byte"><code>calculate_challenge_byte</code></a>),
which will be replaced with another hashing strategy in SPoRA.</li>
</ul>
</li>
<li>
<p>Locate the extrinsic in which the random byte is included.</p>
</li>
<li>
<p>Check if the data of extrinsic located in Step 2 exists in
the local storage.</p>
<ul>
<li>If the data does exist locally, create the two merkle proofs
of extrinsic and data chunks respectively.</li>
<li>If not, repeat from Step 1 by choosing another random byte.</li>
</ul>
</li>
</ol>
<h2 id="usage" class="section-header"><a href="#usage">Usage</a></h2>
<p>Normally, PoA needs to be used with other consensus algorithem like
PoW or PoS together as it’s not typically designed for solving the
problem of selecting one from the validator set to author next block
in an unpredictable or fair way. In another word, PoA is usually
exploited as a precondition for PoW or PoS in order to encourage
the miners to store more data locally.</p>
<p>This crate implements the core algorithem of Proof of Access in
<a href="fn.construct_poa.html" title="construct_poa"><code>construct_poa</code></a> and provides the inherent data provider via
<a href="struct.PoaInherentDataProvider.html" title="PoaInherentDataProvider"><code>PoaInherentDataProvider</code></a>. <a href="struct.PurePoaBlockImport.html" title="PurePoaBlockImport"><code>PurePoaBlockImport</code></a> implements the
<code>BlockImport</code> trait, thus can be wrapped in another block importer.</p>
<p>To use this engine, you can create an inhehrent extrinsic using the
data provided by <a href="struct.PoaInherentDataProvider.html" title="PoaInherentDataProvider"><code>PoaInherentDataProvider</code></a> in a pallet. Furthermore,
you need to wrap the <a href="struct.PurePoaBlockImport.html" title="PurePoaBlockImport"><code>PurePoaBlockImport</code></a> into your existing block
import pipeline. Refer to the <a href="https://substrate.dev/docs/en/knowledgebase/advanced/block-import">Substrate docs</a> for more information
about creating a nested <code>BlockImport</code>.</p>
</div></details><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="struct" href="struct.ChunkProof.html" title="cc_consensus_poa::ChunkProof struct">ChunkProof</a></div><div class="item-right docblock-short"><p>This struct includes the raw bytes of recall chunk as well as the chunk proof stuffs.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.ChunkProofBuilder.html" title="cc_consensus_poa::ChunkProofBuilder struct">ChunkProofBuilder</a></div><div class="item-right docblock-short"><p>A builder for creating a <a href="struct.ChunkProof.html" title="ChunkProof"><code>ChunkProof</code></a> from the raw transaction data.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.ChunkProofVerifier.html" title="cc_consensus_poa::ChunkProofVerifier struct">ChunkProofVerifier</a></div><div class="item-right docblock-short"><p>A verifier for chunk proof.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.PoaBuilder.html" title="cc_consensus_poa::PoaBuilder struct">PoaBuilder</a></div><div class="item-right docblock-short"><p>A builder for creating <a href="enum.PoaOutcome.html" title="PoaOutcome"><code>PoaOutcome</code></a>.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.PoaConfiguration.html" title="cc_consensus_poa::PoaConfiguration struct">PoaConfiguration</a></div><div class="item-right docblock-short"><p>Configuration of the PoA consensus engine.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.PoaInherentDataProvider.html" title="cc_consensus_poa::PoaInherentDataProvider struct">PoaInherentDataProvider</a></div><div class="item-right docblock-short"><p>A type for creating the inherent data for pallet poa.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.ProofOfAccess.html" title="cc_consensus_poa::ProofOfAccess struct">ProofOfAccess</a></div><div class="item-right docblock-short"><p>This struct is used to prove the random historical data access of block author.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.PurePoaBlockImport.html" title="cc_consensus_poa::PurePoaBlockImport struct">PurePoaBlockImport</a></div><div class="item-right docblock-short"><p>A pure block importer for PoA.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.RecallInfo.html" title="cc_consensus_poa::RecallInfo struct">RecallInfo</a></div><div class="item-right docblock-short"><p>All information of recall block that is required to build a <a href="struct.ProofOfAccess.html" title="ProofOfAccess"><code>ProofOfAccess</code></a>.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.TxProofVerifier.html" title="cc_consensus_poa::TxProofVerifier struct">TxProofVerifier</a></div><div class="item-right docblock-short"><p>A verifier for tx proof.</p>
</div></div><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="enum" href="enum.Error.html" title="cc_consensus_poa::Error enum">Error</a></div><div class="item-right docblock-short"><p>Error type for poa consensus.</p>
</div><div class="item-left module-item"><a class="enum" href="enum.PoaOutcome.html" title="cc_consensus_poa::PoaOutcome enum">PoaOutcome</a></div><div class="item-right docblock-short"><p>This struct represents the outcome of creating the inherent data of <a href="struct.ProofOfAccess.html" title="ProofOfAccess"><code>ProofOfAccess</code></a>.</p>
</div></div><h2 id="constants" class="section-header"><a href="#constants">Constants</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="constant" href="constant.POA_ENGINE_ID.html" title="cc_consensus_poa::POA_ENGINE_ID constant">POA_ENGINE_ID</a></div><div class="item-right docblock-short"><p>The engine id for the Proof of Access consensus.</p>
</div></div><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="fn" href="fn.build_extrinsic_proof.html" title="cc_consensus_poa::build_extrinsic_proof fn">build_extrinsic_proof</a></div><div class="item-right docblock-short"><p>Returns the calculated merkle proof given <code>extrinsic_index</code> and <code>extrinsics_root</code>.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.calculate_challenge_byte.html" title="cc_consensus_poa::calculate_challenge_byte fn">calculate_challenge_byte</a></div><div class="item-right docblock-short"><p>Returns the position of recall byte in the entire weave.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.construct_poa.html" title="cc_consensus_poa::construct_poa fn">construct_poa</a></div><div class="item-right docblock-short"><p>Returns a <a href="enum.PoaOutcome.html" title="PoaOutcome"><code>PoaOutcome</code></a> after the poa construction.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.verify_chunk_proof.html" title="cc_consensus_poa::verify_chunk_proof fn">verify_chunk_proof</a></div><div class="item-right docblock-short"><p>Verifies the chunk matches given the <code>chunk_root</code> and <code>proof</code>.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.verify_extrinsic_proof.html" title="cc_consensus_poa::verify_extrinsic_proof fn">verify_extrinsic_proof</a></div><div class="item-right docblock-short"><p>Verify the extrinsic proof on the extrinsics root and related encoded extrinsic.</p>
</div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="cc_consensus_poa" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
    <script src="../main.js"></script>
</body></html>